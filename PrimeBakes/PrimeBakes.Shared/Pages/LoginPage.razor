@page "/login"

<PageTitle>Login - Prime Bakes</PageTitle>

<div class="login-container">
	<div class="login-card">
		<div class="login-header">
			<div class="logo-container">
				<img src="images/logo.png" alt="Prime Bakes Logo" class="login-logo" />
			</div>
			<h1 class="brand-title">Prime Bakes</h1>
			<p class="login-subtitle">Enter your access code to continue</p>
		</div>

		<div class="otp-section">
			<SfOtpInput Type="OtpInputType.Number"
						OnInput="CheckPasscode"
						Value="@_passcode"
						CssClass="custom-otp"
						Placeholder="CODE" />
		</div>

		<div class="status-section">
			@if (_isVerifying)
			{
				<div class="verification-status">
					<div class="loading-spinner">
						<div class="spinner"></div>
					</div>
					<p class="status-text">Verifying your access code...</p>
				</div>
			}
			else
			{
				<div class="instruction-section">
					<p class="instruction-text">Enter your 4-digit access code</p>
				</div>
			}
		</div>

		<div class="footer-section">
			<p class="copyright">&copy; @DateTime.Now.Year A Product By <a href="https://aadisoft.vercel.app" target="_blank" class="footer-link">AadiSoft</a>. All rights reserved.</p>
		</div>
	</div>

	<!-- Background decoration -->
	<div class="bg-decoration">
		<div class="decoration-circle circle-1"></div>
		<div class="decoration-circle circle-2"></div>
		<div class="decoration-circle circle-3"></div>
	</div>
</div>

<style>
	:root {
		--primary-color: #e2137b;
		--primary-dark: #c10e69;
		--primary-light: #ff4d9f;
		--secondary-color: #f8f9fa;
		--text-dark: #2c3e50;
		--text-light: #7f8c8d;
		--white: #ffffff;
		--shadow: 0 10px 40px rgba(226, 19, 123, 0.15);
		--border-radius: 16px;
	}

	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	body {
		background: linear-gradient(135deg, #667eea 0%, var(--primary-color) 100%);
		height: 100vh;
		overflow: hidden;
	}

	.login-container {
		display: flex;
		align-items: center;
		justify-content: center;
		min-height: 100vh;
		padding: 20px;
		position: relative;
	}

	.login-card {
		background: var(--white);
		border-radius: var(--border-radius);
		box-shadow: var(--shadow);
		padding: 40px 32px;
		width: 100%;
		max-width: 420px;
		position: relative;
		z-index: 10;
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.2);
	}

	/* Header Section */
	.login-header {
		text-align: center;
		margin-bottom: 40px;
	}

	.logo-container {
		margin-bottom: 20px;
		position: relative;
	}

	.login-logo {
		width: 80px;
		height: 80px;
		border-radius: 50%;
		object-fit: cover;
		box-shadow: 0 8px 24px rgba(226, 19, 123, 0.2);
		border: 3px solid var(--white);
		background: var(--white);
		padding: 8px;
	}

	.brand-title {
		font-size: 32px;
		font-weight: 700;
		color: var(--text-dark);
		margin-bottom: 8px;
		letter-spacing: -0.5px;
	}

	.login-subtitle {
		color: var(--text-light);
		font-size: 16px;
		font-weight: 400;
		line-height: 1.5;
	}

	/* OTP Section */
	.otp-section {
		margin-bottom: 32px;
	}

	/* Custom OTP Input Styling */
	:deep(.custom-otp) {
		display: flex;
		justify-content: center;
		gap: 12px;
		margin: 0 auto;
	}

	:deep(.custom-otp .e-control-wrapper) {
		margin: 0;
	}

	:deep(.custom-otp .e-input-group) {
		width: 56px !important;
		height: 56px !important;
		border-radius: 12px !important;
		border: 2px solid #e1e8ed !important;
		background: var(--secondary-color) !important;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
		overflow: hidden;
	}

	:deep(.custom-otp .e-input-group:focus-within) {
		border-color: var(--primary-color) !important;
		background: var(--white) !important;
		box-shadow: 0 0 0 4px rgba(226, 19, 123, 0.1) !important;
		transform: scale(1.05);
	}

	:deep(.custom-otp .e-input-group input) {
		width: 100% !important;
		height: 100% !important;
		border: none !important;
		background: transparent !important;
		text-align: center !important;
		font-size: 24px !important;
		font-weight: 600 !important;
		color: var(--text-dark) !important;
		outline: none !important;
		caret-color: var(--primary-color) !important;
	}

	:deep(.custom-otp .e-input-group input::placeholder) {
		color: #cbd5e0 !important;
		font-weight: 400 !important;
	}

	/* Status Section */
	.status-section {
		margin-bottom: 32px;
		min-height: 80px;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
	}

	/* Verification Status */
	.verification-status {
		text-align: center;
	}

	.loading-spinner {
		margin-bottom: 16px;
	}

	.spinner {
		width: 40px;
		height: 40px;
		border: 4px solid rgba(226, 19, 123, 0.1);
		border-left: 4px solid var(--primary-color);
		border-radius: 50%;
		animation: spin 1s linear infinite;
		margin: 0 auto;
	}

	@@keyframes spin {
		0% {
			transform: rotate(0deg);
		}

		100% {
			transform: rotate(360deg);
		}
	}

	.status-text {
		color: var(--primary-color);
		font-size: 16px;
		font-weight: 500;
		margin: 0;
	}

	/* Instruction Section */
	.instruction-section {
		text-align: center;
	}

	.instruction-dots {
		display: flex;
		justify-content: center;
		gap: 8px;
		margin-bottom: 16px;
	}

	.dot {
		width: 12px;
		height: 12px;
		border-radius: 50%;
		background: #e1e8ed;
		transition: all 0.3s ease;
		position: relative;
	}

		.dot.active {
			background: var(--primary-color);
			box-shadow: 0 0 0 4px rgba(226, 19, 123, 0.2);
		}

			.dot.active::after {
				content: '';
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 6px;
				height: 6px;
				background: var(--white);
				border-radius: 50%;
			}

	.instruction-text {
		color: var(--text-light);
		font-size: 15px;
		font-weight: 400;
		margin: 0;
	}

	/* Footer Section */
	.footer-section {
		text-align: center;
		padding-top: 24px;
		border-top: 1px solid #e1e8ed;
	}

	.copyright {
		font-size: 13px;
		color: var(--text-light);
		line-height: 1.5;
		margin: 0;
	}

	.footer-link {
		color: var(--primary-color);
		text-decoration: none;
		font-weight: 600;
		transition: color 0.2s ease;
	}

		.footer-link:hover {
			color: var(--primary-dark);
			text-decoration: underline;
		}

	/* Background Decoration */
	.bg-decoration {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		overflow: hidden;
		z-index: 1;
	}

	.decoration-circle {
		position: absolute;
		border-radius: 50%;
		background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.2);
	}

	.circle-1 {
		width: 200px;
		height: 200px;
		top: -100px;
		right: -100px;
		animation: float 6s ease-in-out infinite;
	}

	.circle-2 {
		width: 150px;
		height: 150px;
		bottom: -75px;
		left: -75px;
		animation: float 8s ease-in-out infinite reverse;
	}

	.circle-3 {
		width: 100px;
		height: 100px;
		top: 50%;
		left: -50px;
		animation: float 10s ease-in-out infinite;
	}

	@@keyframes float {
		0%, 100% {
			transform: translateY(0px) rotate(0deg);
		}

		50% {
			transform: translateY(-20px) rotate(180deg);
		}
	}

	/* Responsive Design */
	@@media (max-width: 480px) {
		.login-card {
			padding: 32px 24px;
			margin: 16px;
		}

		.brand-title {
			font-size: 28px;
		}

		:deep(.custom-otp .e-input-group) {
			width: 48px !important;
			height: 48px !important;
		}

		:deep(.custom-otp .e-input-group input) {
			font-size: 20px !important;
		}

		.instruction-dots {
			gap: 6px;
		}

		.dot {
			width: 10px;
			height: 10px;
		}
	}

	/* Accessibility */
	@@media (prefers-reduced-motion: reduce) {
		.spinner,
		.decoration-circle {
			animation: none;
		}

		:deep(.custom-otp .e-input-group:focus-within) {
			transform: none;
		}
	}

	/* Focus styles for better accessibility */
	.footer-link:focus {
		outline: 2px solid var(--primary-color);
		outline-offset: 2px;
		border-radius: 2px;
	}

	/* High contrast mode support */
	@@media (prefers-contrast: high) {
		.login-card {
			border: 2px solid var(--text-dark);
		}

		:deep(.custom-otp .e-input-group) {
			border-width: 3px !important;
		}
	}
</style>